<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Using Sass to automatically pick text colors</title>
  <meta name="description" content="I’m Sérgio, and I work with Web frontend code. Sometimes I write about it here.">

    <!--
      Hello, and welcome to the source for my site!
      There's not a lot to see around here, but I hope you get some inspiration/ideas/laughs.

      Here's an ASCII art stick figure saying hi:  o/
                                                  /|
                                                  / \

      Also, no, I'm not Spanish. I just like short domain names.
    -->

  <link rel="canonical" href="https://sgom.es/">
  <link rel="alternate" type="application/rss+xml" title="sgom.es" href="/feed.xml">

  <link rel="manifest" href="/manifest.json">

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="sgom.es">
  <link rel="icon" sizes="16x16" href="/assets/images/touch/16x16.png">
  <link rel="icon" sizes="32x32" href="/assets/images/touch/32x32.png">
  <link rel="icon" sizes="192x192" href="/assets/images/touch/192x192.png">
  <link rel="icon" sizes="512x512" href="/assets/images/touch/512x512.png">

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="sgom.es">
  <link rel="apple-touch-icon" href="/assets/images/touch/152x152.png">

  <meta name="msapplication-TileImage" content="/assets/images/touch/144x144.png">
  <meta name="msapplication-TileColor" content="#009688">

  <meta name="theme-color" content="#009688">

  <link rel="preconnect" href="https://fonts.gstatic.com">

  <style>
  
  @import url(https://fonts.googleapis.com/css?family=Roboto+Mono|Rubik:400,500&display=fallback);.header{display:flex;height:80px;background:#009688;background:var(--primary-color);color:#fff;justify-content:center;align-items:center;flex-shrink:0;z-index:2;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.header-title{text-decoration:none;color:rgba(255,255,255,.9);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Rubik,sans-serif;font-family:var(--mdc-typography-headline4-font-family,var(--mdc-typography-font-family,Rubik,sans-serif));font-size:2.125rem;font-size:var(--mdc-typography-headline4-font-size,2.125rem);line-height:2.5rem;line-height:var(--mdc-typography-headline4-line-height,2.5rem);font-weight:400;font-weight:var(--mdc-typography-headline4-font-weight,400);letter-spacing:.0073529412em;letter-spacing:var(--mdc-typography-headline4-letter-spacing,.0073529412em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline4-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline4-text-transform,inherit);font-weight:700}.header-title:hover,.header-title:visited{color:rgba(255,255,255,.9)}.post{background:#fff;background:var(--post-background);padding:3.5rem 4.5rem;margin:0 auto;color:rgba(0,0,0,.87);color:var(--text-color);width:100%;max-width:45rem;box-sizing:border-box}@media screen and (max-width:600px){.post{padding:2rem 1rem}}.post-title{display:block;color:#009688;color:var(--primary-color-text);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Rubik,sans-serif;font-family:var(--mdc-typography-headline4-font-family,var(--mdc-typography-font-family,Rubik,sans-serif));font-size:2.125rem;font-size:var(--mdc-typography-headline4-font-size,2.125rem);line-height:2.5rem;line-height:var(--mdc-typography-headline4-line-height,2.5rem);font-weight:400;font-weight:var(--mdc-typography-headline4-font-weight,400);letter-spacing:.0073529412em;letter-spacing:var(--mdc-typography-headline4-letter-spacing,.0073529412em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline4-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline4-text-transform,inherit);margin-bottom:0;margin-top:0}.post-meta{display:block;color:#009688;color:var(--primary-color-text);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Rubik,sans-serif;font-family:var(--mdc-typography-body2-font-family,var(--mdc-typography-font-family,Rubik,sans-serif));font-size:.875rem;font-size:var(--mdc-typography-body2-font-size,.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height,1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight,400);letter-spacing:.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing,.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform,inherit);margin-top:0}.post-image{max-width:100%;margin:0 auto}.post-image>img{display:block}.post-content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Rubik,sans-serif;font-family:var(--mdc-typography-body1-font-family,var(--mdc-typography-font-family,Rubik,sans-serif));font-size:1rem;font-size:var(--mdc-typography-body1-font-size,1rem);line-height:1.5rem;line-height:var(--mdc-typography-body1-line-height,1.5rem);font-weight:400;font-weight:var(--mdc-typography-body1-font-weight,400);letter-spacing:.03125em;letter-spacing:var(--mdc-typography-body1-letter-spacing,.03125em);text-decoration:inherit;text-decoration:var(--mdc-typography-body1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-body1-text-transform,inherit);font-size:1rem;letter-spacing:normal;box-sizing:border-box;margin:0}.post-content h1{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Rubik,sans-serif;font-family:var(--mdc-typography-headline5-font-family,var(--mdc-typography-font-family,Rubik,sans-serif));font-size:1.5rem;font-size:var(--mdc-typography-headline5-font-size,1.5rem);line-height:2rem;line-height:var(--mdc-typography-headline5-line-height,2rem);font-weight:400;font-weight:var(--mdc-typography-headline5-font-weight,400);letter-spacing:normal;letter-spacing:var(--mdc-typography-headline5-letter-spacing,normal);text-decoration:inherit;text-decoration:var(--mdc-typography-headline5-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline5-text-transform,inherit)}.post-content h2{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Rubik,sans-serif;font-family:var(--mdc-typography-headline6-font-family,var(--mdc-typography-font-family,Rubik,sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size,1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height,2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight,500);letter-spacing:.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing,.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform,inherit);margin:0;margin-top:2rem}.post-content h2+h3{margin-top:1em}.post-content h3{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Rubik,sans-serif;font-family:var(--mdc-typography-headline6-font-family,var(--mdc-typography-font-family,Rubik,sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size,1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height,2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight,500);letter-spacing:.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing,.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform,inherit);font-size:1.1rem;line-height:1.5rem;margin:2em 0 0}.post-content h4{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Rubik,sans-serif;font-family:var(--mdc-typography-body2-font-family,var(--mdc-typography-font-family,Rubik,sans-serif));font-size:.875rem;font-size:var(--mdc-typography-body2-font-size,.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height,1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight,400);letter-spacing:.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing,.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform,inherit);font-size:1rem;letter-spacing:normal;margin:2em 0 0;color:rgba(0,0,0,.6);color:var(--faded-color)}.post-content a{color:#009688;color:var(--primary-color-text);text-decoration-skip-ink:auto}.post-content a:hover,.post-content a:visited{color:#009688;color:var(--primary-color-text)}.post-content pre{border-radius:2px;margin:0;padding:16px;font-size:.9375em;font-style:normal;font-weight:400;letter-spacing:normal;line-height:normal;font-family:"Roboto Mono",monospace;overflow-x:auto}.post-content pre+pre{margin-top:16px}.post-content code{font-size:.9375em;color:#0d47a1;color:var(--code-color);font-family:"Roboto Mono",monospace}.post-content strong{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Rubik,sans-serif;font-family:var(--mdc-typography-body2-font-family,var(--mdc-typography-font-family,Rubik,sans-serif));font-size:.875rem;font-size:var(--mdc-typography-body2-font-size,.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height,1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight,400);letter-spacing:.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing,.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform,inherit);font-size:1rem;letter-spacing:normal}.post-content figure{max-width:100%;box-sizing:border-box;margin:0}.post-content figcaption{text-align:center;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Rubik,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Rubik,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit);margin:0}.post-content blockquote{margin:1.5em 0 2em 2.5em;border-left:1px solid #00bfa5;padding-left:1rem}.post-content table{display:block;margin:0 0 2rem;border-collapse:collapse;text-align:center;overflow-x:auto}.post-content table th{font-weight:500}.post-content table td,.post-content table th{padding:8px;border:1px solid #ddd}.post-content li+li{margin-top:.5rem}.post-content .overflow-x{overflow-x:auto}.post-tags{display:flex;align-items:baseline;flex-grow:1;line-height:normal;color:rgba(0,0,0,.6);color:var(--faded-color)}.post-tags-list{display:inline-block;flex-grow:1;margin-left:.2rem;font-family:"Roboto Mono",monospace;letter-spacing:normal}.footer{display:flex;flex-flow:column nowrap;width:100%;background:#009688;background:var(--primary-color);color:#fff;padding:16px;box-sizing:border-box;flex-shrink:0;z-index:2;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.footer-contents{display:flex;position:relative;flex-flow:row nowrap;justify-content:center;align-items:center;margin:0 auto 0 auto;flex-shrink:0;box-sizing:border-box;padding:0 24px;width:100%;max-width:45rem}@media (max-width:600px){.footer-contents{flex-wrap:wrap;padding:0}}.footer-avatar{border-radius:10%;width:100px;height:100px;background:#000;flex-grow:0;flex-shrink:0;margin-right:16px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.footer-text{flex-grow:1;flex-shrink:1;padding:16px;width:50%}.footer-heading{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Rubik,sans-serif;font-family:var(--mdc-typography-headline6-font-family,var(--mdc-typography-font-family,Rubik,sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size,1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height,2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight,500);letter-spacing:.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing,.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform,inherit);margin-bottom:8px}.footer-description{margin:0}.footer-icons{display:block;flex-shrink:0;margin:.5rem 0}.footer-icons-row{display:block;flex-shrink:0}@media (max-width:600px){.footer-icons-row{display:inline-block}}.footer-bubble{display:inline-block;border-radius:50%;height:40px;width:40px;flex-shrink:0;margin:2px;background-repeat:no-repeat;background-size:contain;background-position:center}.footer-twitter{background-image:url(/assets/images/twitter.svg)}.footer-github{border-radius:0;background-image:url(/assets/images/github.svg)}.footer-email{background-image:url(/assets/images/email.svg)}.footer-feed{background-image:url(/assets/images/feed.svg)}.footer-bottom{display:flex;position:relative;justify-content:center;margin:8px auto 0 auto;flex-shrink:0;width:100%;max-width:45rem}.footer-bottom::before{display:block;position:absolute;top:50%;width:100%;height:1px;background:rgba(255,255,255,.17);content:""}.footer-copyright{display:inline-block;text-align:center;background:#009688;background:var(--primary-color);z-index:2;padding:0 8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Rubik,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Rubik,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit);margin:0}.footer-copyright a{color:rgba(255,255,255,.9);text-decoration:none;font-weight:700}.footer-copyright a:hover,.footer-copyright a:visited{color:rgba(255,255,255,.9)}.light-mode.light-mode,:root{--syntax-red:#B71C1C;--syntax-orange:#E65100;--syntax-green:#1B5E20;--syntax-cyan:#006064;--syntax-blue:#0D47A1;--syntax-purple:#4A148C;--syntax-brown:#3E2723;--syntax-yellow:#3E2723;--syntax-gray:#616161;--syntax-text:rgba(0, 0, 0, 0.87);--syntax-separator:#373B41;--syntax-background:#F5F5F5}@media (prefers-color-scheme:dark){:root{--syntax-red:#EF9A9A;--syntax-orange:#FFCC80;--syntax-green:#A5D6A7;--syntax-cyan:#80DEEA;--syntax-blue:#90CAF9;--syntax-purple:#CE93D8;--syntax-brown:#BCAAA4;--syntax-yellow:#FFF59D;--syntax-gray:#BDBDBD;--syntax-text:#F5F5F5;--syntax-separator:#BFCDE3;--syntax-background:#212121}}.dark-mode.dark-mode{--syntax-red:#EF9A9A;--syntax-orange:#FFCC80;--syntax-green:#A5D6A7;--syntax-cyan:#80DEEA;--syntax-blue:#90CAF9;--syntax-purple:#CE93D8;--syntax-brown:#BCAAA4;--syntax-yellow:#FFF59D;--syntax-gray:#BDBDBD;--syntax-text:#F5F5F5;--syntax-separator:#BFCDE3;--syntax-background:#212121}.post-content pre{background:#f5f5f5;background:var(--syntax-background)}.post-content pre code{color:rgba(0,0,0,.87);color:var(--syntax-text)}.post-content pre code .comment{color:#616161;color:var(--syntax-gray)}.post-content pre code .comment .markup.link{color:#616161;color:var(--syntax-gray)}.post-content pre code .entity.name.type{color:#3e2723;color:var(--syntax-yellow)}.post-content pre code .entity.other.inherited-class{color:#1b5e20;color:var(--syntax-green)}.post-content pre code .keyword{color:#4a148c;color:var(--syntax-purple)}.post-content pre code .keyword.control{color:#4a148c;color:var(--syntax-purple)}.post-content pre code .keyword.operator{color:rgba(0,0,0,.87);color:var(--syntax-text)}.post-content pre code .keyword.other.special-method{color:#0d47a1;color:var(--syntax-blue)}.post-content pre code .keyword.other.unit{color:#e65100;color:var(--syntax-orange)}.post-content pre code .storage{color:#4a148c;color:var(--syntax-purple)}.post-content pre code .constant{color:#e65100;color:var(--syntax-orange)}.post-content pre code .constant.character.escape{color:#006064;color:var(--syntax-cyan)}.post-content pre code .constant.numeric{color:#e65100;color:var(--syntax-orange)}.post-content pre code .constant.other.color{color:#006064;color:var(--syntax-cyan)}.post-content pre code .constant.other.symbol{color:#1b5e20;color:var(--syntax-green)}.post-content pre code .variable{color:#b71c1c;color:var(--syntax-red)}.post-content pre code .variable.interpolation{color:#3e2723;color:var(--syntax-brown)}.post-content pre code .variable.parameter.function{color:rgba(0,0,0,.87);color:var(--syntax-text)}.post-content pre code .invalid.illegal{background:#b71c1c;background:var(--syntax-red);color:#f5f5f5;color:var(--syntax-background)}.post-content pre code .string{color:#1b5e20;color:var(--syntax-green)}.post-content pre code .string.regexp{color:#006064;color:var(--syntax-cyan)}.post-content pre code .string.regexp .source.ruby.embedded{color:#3e2723;color:var(--syntax-yellow)}.post-content pre code .string.other.link{color:#b71c1c;color:var(--syntax-red)}.post-content pre code .punctuation.definition.array,.post-content pre code .punctuation.definition.parameters{color:rgba(0,0,0,.87);color:var(--syntax-text)}.post-content pre code .punctuation.definition.heading,.post-content pre code .punctuation.definition.identity{color:#0d47a1;color:var(--syntax-blue)}.post-content pre code .punctuation.definition.bold{color:#3e2723;color:var(--syntax-yellow);font-weight:700}.post-content pre code .punctuation.definition.italic{color:#4a148c;color:var(--syntax-purple);font-style:italic}.post-content pre code .punctuation.section.embedded{color:#3e2723;color:var(--syntax-brown)}.post-content pre code .punctuation.section.class,.post-content pre code .punctuation.section.inner-class,.post-content pre code .punctuation.section.method{color:rgba(0,0,0,.87);color:var(--syntax-text)}.post-content pre code .support.class{color:#3e2723;color:var(--syntax-yellow)}.post-content pre code .support.function{color:#006064;color:var(--syntax-cyan)}.post-content pre code .support.function.any-method{color:#0d47a1;color:var(--syntax-blue)}.post-content pre code .entity.name.function{color:#0d47a1;color:var(--syntax-blue)}.post-content pre code .entity.name.class,.post-content pre code .entity.name.type.class{color:#3e2723;color:var(--syntax-yellow)}.post-content pre code .entity.name.section{color:#0d47a1;color:var(--syntax-blue)}.post-content pre code .entity.name.tag{color:#b71c1c;color:var(--syntax-red)}.post-content pre code .entity.other.attribute-name{color:#e65100;color:var(--syntax-orange)}.post-content pre code .entity.other.attribute-name.id{color:#0d47a1;color:var(--syntax-blue)}.post-content pre code .meta.class{color:#3e2723;color:var(--syntax-yellow)}.post-content pre code .meta.class.body{color:rgba(0,0,0,.87);color:var(--syntax-text)}.post-content pre code .meta.link{color:#e65100;color:var(--syntax-orange)}.post-content pre code .meta.method,.post-content pre code .meta.method-call{color:rgba(0,0,0,.87);color:var(--syntax-text)}.post-content pre code .meta.require{color:#0d47a1;color:var(--syntax-blue)}.post-content pre code .meta.selector{color:#4a148c;color:var(--syntax-purple)}.post-content pre code .meta.separator{background:#373b41;background:var(--syntax-separator);color:rgba(0,0,0,.87);color:var(--syntax-text)}.post-content pre code .meta.tag{color:rgba(0,0,0,.87);color:var(--syntax-text)}.post-content pre code .none{color:rgba(0,0,0,.87);color:var(--syntax-text)}.post-content pre code .markup.bold{color:#e65100;color:var(--syntax-orange);font-weight:700}.post-content pre code .markup.changed{color:#4a148c;color:var(--syntax-purple)}.post-content pre code .markup.deleted{color:#b71c1c;color:var(--syntax-red)}.post-content pre code .markup.italic{color:#4a148c;color:var(--syntax-purple);font-style:italic}.post-content pre code .markup.heading{color:#b71c1c;color:var(--syntax-red)}.post-content pre code .markup.heading .punctuation.definition.heading{color:#0d47a1;color:var(--syntax-blue)}.post-content pre code .markup.link{color:#0d47a1;color:var(--syntax-blue)}.post-content pre code .markup.inserted{color:#1b5e20;color:var(--syntax-green)}.post-content pre code .markup.quote{color:#e65100;color:var(--syntax-orange)}.post-content pre code .markup.raw{color:#1b5e20;color:var(--syntax-green)}.post-content pre code .source.gfm .markup{-webkit-font-smoothing:auto}.post-content pre code .source.gfm .link .entity{color:#006064;color:var(--syntax-cyan)}.aspect-ratio{--aspect-ratio-w:1;--aspect-ratio-h:1;position:relative}.aspect-ratio>:first-child{width:100%}@supports (--custom-props:true){.aspect-ratio::before{display:block;padding-top:calc(var(--aspect-ratio-h,1)/ var(--aspect-ratio-w,1) * 100%);content:""}.aspect-ratio>:first-child{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%}}.light-mode.light-mode,:root{--mdc-theme-primary:#009688;--primary-color:#009688;--primary-color-text:#009688;--page-background:#eceff1;--post-background:white;--text-color:rgba(0, 0, 0, 0.87);--code-color:#0D47A1;--faded-color:rgba(0, 0, 0, 0.6)}.dark-mode.dark-mode{--mdc-theme-primary:#00695C;--primary-color:#00695C;--primary-color-text:#80CBC4;--page-background:#212121;--post-background:#424242;--text-color:rgba(255, 255, 255, 0.9);--code-color:#BBDEFB;--faded-color:rgba(255, 255, 255, 0.6)}@media (prefers-color-scheme:dark){:root{--mdc-theme-primary:#00695C;--primary-color:#00695C;--primary-color-text:#80CBC4;--page-background:#212121;--post-background:#424242;--text-color:rgba(255, 255, 255, 0.9);--code-color:#BBDEFB;--faded-color:rgba(255, 255, 255, 0.6)}}body,html{display:flex;flex-direction:column;margin:0;padding:0;box-sizing:border-box;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Rubik,sans-serif;font-family:var(--mdc-typography-font-family,Rubik,sans-serif);height:100%;color:rgba(0,0,0,.87);color:var(--text-color)}.site-content{flex-grow:1;background:#eceff1;background:var(--page-background);box-sizing:border-box}.mdc-button{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}
  
  </style>

  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90468985-1', 'auto');
  ga('send', 'pageview');

</script>

  
</head>


  <body>

    <header class="header" role="banner">
<div>
  <a class="header-title" href="/">sgom.es</a>
</div>
</header>


    <main class="site-content" aria-label="Content">
        
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Using Sass to automatically pick text colors</h1>
    <time class="post-meta" datetime="2016-12-21T16:51:00+00:00" itemprop="datePublished">(2016-12-21)</time>
  </header>

  <div class="post-content" itemprop="articleBody">
    
<p><em>Originally <a href="https://medium.com/dev-channel/using-sass-to-automatically-pick-text-colors-4ba7645d2796">posted on Medium</a></em></p>
<p>Theming is always a challenge, particularly when you’re working on a library, rather than a standalone website. One example of an interesting issue that you’ll come across very frequently is choosing a text color that ensures readability and accessibility.</p>
<div class="aspect-ratio post-image"
     style="width: 558px; --aspect-ratio-w: 558; --aspect-ratio-h: 146;">
  <img src="light-dark.png" alt="">
</div>





<p>This is easy enough when you have known light or dark backgrounds; you can create two CSS classes and have users of your CSS library manually add them in depending on context.</p>
<p>Jekyll also offers powerful support for code snippets:</p>
<pre><code class="language-css"><div class="line"><span class="source css"><span class="meta selector css"><span class="entity name tag custom css"><span>dark-background-contrast</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>color</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant color w3c-standard-color-name css"><span>white</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span>&nbsp;</span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span class="entity name tag custom css"><span>light-background-contrast</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>color</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant color w3c-standard-color-name css"><span>black</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div></code></pre>
<p>However, things become a bit trickier if you want to add the concept of a <strong>theme color</strong> to your library, and make it easy to use. This color will very often be used as a background, and will need sufficient contrast for the text that’s placed on top.</p>
<pre><code class="language-css"><div class="line"><span class="source css"><span class="meta selector css"><span class="entity name tag custom css"><span>theme-color-bg</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>background-color</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant other color rgb-value css"><span class="punctuation definition constant css"><span>#</span></span><span>3f51b5</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span>&nbsp;</span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span class="entity name tag custom css"><span>theme-color-bg-contrast</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>color</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant color w3c-standard-color-name css"><span>white</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div></code></pre>
<p>In the example above, <code>theme-color-bg-contrast</code> needs to change to a <code>black</code> text color if the user-defined theme color is light. While this is impossible to do in pure CSS (at least until the extremely useful <a href="https://drafts.csswg.org/css-color/">CSS Color Module 4</a> is widely available), it can be done in Sass!</p>
<h2 id="working-out-the-sass">Working out the Sass</h2>
<p>Here’s what the initial Sass should look like:</p>
<pre><code class="language-scss"><div class="line"><span class="source css scss"><span class="meta set variable"><span class="variable"><span>$theme-color</span></span><span class="punctuation"><span>:</span></span><span>&nbsp;</span><span class="constant other color rgb-value scss"><span class="punctuation definition constant scss"><span>#</span></span><span>3f51b5</span></span><span>&nbsp;</span><span class="keyword other default scss"><span>!default</span></span></span><span>;</span></span></div><div class="line"><span class="source css scss"><span>&nbsp;</span></span></div><div class="line"><span class="source css scss"><span class="entity name tag custom scss"><span>theme-color-bg</span></span><span>&nbsp;</span><span class="meta property-list scss"><span class="punctuation section property-list begin scss"><span>{</span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span>&nbsp;&nbsp;</span><span class="meta property-name scss"><span class="support type property-name scss"><span>background-color</span></span></span><span class="meta property-value scss"><span class="punctuation separator key-value scss"><span>:</span></span><span>&nbsp;</span><span class="variable scss"><span class="variable scss"><span>$theme-color</span></span></span><span class="punctuation terminator rule scss"><span>;</span></span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="punctuation section property-list end scss"><span>}</span></span></span></span></div><div class="line"><span class="source css scss"><span>&nbsp;</span></span></div><div class="line"><span class="source css scss"><span class="entity name tag custom scss"><span>theme-color-bg-contrast</span></span><span>&nbsp;</span><span class="meta property-list scss"><span class="punctuation section property-list begin scss"><span>{</span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span>&nbsp;&nbsp;</span><span class="meta property-name scss"><span class="support type property-name scss"><span>color</span></span></span><span class="meta property-value scss"><span class="punctuation separator key-value scss"><span>:</span></span><span>&nbsp;</span><span class="support function misc scss"><span>choose-contrast-color</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$theme-color</span></span></span><span class="punctuation section function scss"><span>)</span></span><span class="punctuation terminator rule scss"><span>;</span></span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="punctuation section property-list end scss"><span>}</span></span></span></span></div></code></pre>
<p>Users can override the <code>$theme-color</code>, and depending on what they pick, the <code>choose-contrast-color</code> function will return either <code>black</code> or <code>white</code>.</p>
<p>So how do we implement <code>choose-contrast-color</code>? It turns out that all of the necessary calculations and minimum contrast rules are well defined in the <a href="https://www.w3.org/TR/WCAG20/">WCAG 2.0 specification</a>. There’s a <a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html">whole section explaining visual contrast in detail</a>, several links to ISO and ANSI standards, and even <a href="https://www.w3.org/Graphics/Color/sRGB.html">papers on the subject</a>. Digging around for a while, I was able to find a <a href="https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests">published W3C technique with a clear description of the algorithm</a>:</p>
<figure>
  <div class="aspect-ratio post-image"
       style="width: 1606px; --aspect-ratio-w: 1606; --aspect-ratio-h: 1144;">
    <img src="algorithm.png" alt="The algorithm for calculating color contrast">
  </div>
  <figcaption>The algorithm for calculating color contrast</figcaption>
</figure>





<p>If you’re familiar with Sass, you’ll quickly notice an issue: the luminance calculations involve exponentiation, which isn’t available in the language or the standard library.</p>
<p>One solution to this would be to use the extensive <a href="http://compass-style.org/">Compass library</a>, which not only includes exponentiation, but also the luminance operations we’re trying to implement. It requires Ruby, however, so it’s not an option for <a href="https://github.com/sass/node-sass">node-sass</a> users. A pure Sass solution would be better.</p>
<h2 id="using-old-tricks">Using old tricks</h2>
<p>I was reviewing my math and exploring the possibility of using Newtonian approximation for the fractional parts of the exponent, until I had a chat with <a href="https://twitter.com/wibblymat">@wibblymat</a>, who happened to be implementing an emulator at the time. He suggested a much simpler, old-school approach: using a lookup table!</p>
<p>The only part that involves exponentiation is the per-channel color space conversions done as part of the luminance calculation. In addition, there are only 256 possible values for each channel. This means that we can easily create a lookup table.</p>
<figure>
  <div class="aspect-ratio post-image"
       style="width: 370px; --aspect-ratio-w: 370; --aspect-ratio-h: 584;">
    <img src="lookup.png" alt="An excerpt of the lookup table">
  </div>
  <figcaption>An excerpt of the lookup table</figcaption>
</figure>





<p>You can take a look at <a href="https://github.com/material-components/material-components-web/blob/master/packages/mdc-theme/_constants.scss">the full table</a> that I generated for the <a href="https://github.com/material-components/material-components-web">MDC-Web project</a> to avoid having to generate your own.</p>
<p>With the channel values calculated, we can implement the rest of the algorithm easily:</p>
<pre><code class="language-scss"><div class="line"><span class="source css scss"><span class="comment block scss"><span class="punctuation whitespace comment trailing scss"><span>/*</span></span><span>*</span></span></span></div><div class="line"><span class="source css scss"><span class="comment block scss"><span>&nbsp;*&nbsp;Calculate&nbsp;the&nbsp;luminance&nbsp;for&nbsp;a&nbsp;color.</span></span></span></div><div class="line"><span class="source css scss"><span class="comment block scss"><span>&nbsp;*&nbsp;See&nbsp;</span><span class="markup underline link https hyperlink"><span>https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests</span></span></span></span></div><div class="line"><span class="source css scss"><span class="comment block scss"><span>&nbsp;</span><span class="punctuation whitespace comment trailing scss"><span>*/</span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta at-rule function scss"><span class="keyword control at-rule function scss"><span class="punctuation definition keyword scss"><span>@</span></span><span>function</span></span><span>&nbsp;</span><span class="support function misc scss"><span>luminance</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$color</span></span></span><span class="punctuation section function scss"><span>)</span></span><span>&nbsp;</span></span><span class="meta property-list scss"><span class="punctuation section property-list begin scss"><span>{</span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="variable scss"><span>&nbsp;&nbsp;</span><span class="variable scss"><span>$red</span></span></span><span class="meta property-value scss"><span class="punctuation separator key-value scss"><span>:</span></span><span>&nbsp;</span><span class="support function misc scss"><span>nth</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$linear-channel-values</span></span></span><span class="punctuation scss"><span>,</span></span><span>&nbsp;</span><span class="support function misc scss"><span>red</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$color</span></span></span><span class="punctuation section function scss"><span>)</span></span><span>&nbsp;</span><span class="constant numeric scss"><span>+&nbsp;1</span></span><span class="punctuation section function scss"><span>)</span></span><span class="punctuation terminator rule scss"><span>;</span></span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="variable scss"><span>&nbsp;&nbsp;</span><span class="variable scss"><span>$green</span></span></span><span class="meta property-value scss"><span class="punctuation separator key-value scss"><span>:</span></span><span>&nbsp;</span><span class="support function misc scss"><span>nth</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$linear-channel-values</span></span></span><span class="punctuation scss"><span>,</span></span><span>&nbsp;</span><span class="support function misc scss"><span>green</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$color</span></span></span><span class="punctuation section function scss"><span>)</span></span><span>&nbsp;</span><span class="constant numeric scss"><span>+&nbsp;1</span></span><span class="punctuation section function scss"><span>)</span></span><span class="punctuation terminator rule scss"><span>;</span></span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="variable scss"><span>&nbsp;&nbsp;</span><span class="variable scss"><span>$blue</span></span></span><span class="meta property-value scss"><span class="punctuation separator key-value scss"><span>:</span></span><span>&nbsp;</span><span class="support function misc scss"><span>nth</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$linear-channel-values</span></span></span><span class="punctuation scss"><span>,</span></span><span>&nbsp;</span><span class="support function misc scss"><span>blue</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$color</span></span></span><span class="punctuation section function scss"><span>)</span></span><span>&nbsp;</span><span class="constant numeric scss"><span>+&nbsp;1</span></span><span class="punctuation section function scss"><span>)</span></span><span class="punctuation terminator rule scss"><span>;</span></span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span>&nbsp;</span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="meta at-rule return scss"><span>&nbsp;&nbsp;</span><span class="keyword control return scss"><span class="punctuation definition keyword scss"><span>@</span></span><span>return</span></span><span class="constant numeric scss"><span>&nbsp;.2126</span></span><span>&nbsp;*</span><span class="variable scss"><span>&nbsp;</span><span class="variable scss"><span>$red</span></span><span>&nbsp;</span></span><span class="constant numeric scss"><span>+&nbsp;.7152</span></span><span>&nbsp;*</span><span class="variable scss"><span>&nbsp;</span><span class="variable scss"><span>$green</span></span><span>&nbsp;</span></span><span class="constant numeric scss"><span>+&nbsp;.0722</span></span><span>&nbsp;*</span><span class="variable scss"><span>&nbsp;</span><span class="variable scss"><span>$blue</span></span></span></span><span>;</span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="punctuation section property-list end scss"><span>}</span></span></span></span></div><div class="line"><span class="source css scss"><span>&nbsp;</span></span></div><div class="line"><span class="source css scss"><span class="comment block scss"><span class="punctuation whitespace comment trailing scss"><span>/*</span></span><span>*</span></span></span></div><div class="line"><span class="source css scss"><span class="comment block scss"><span>&nbsp;*&nbsp;Calculate&nbsp;the&nbsp;contrast&nbsp;ratio&nbsp;between&nbsp;two&nbsp;colors.</span></span></span></div><div class="line"><span class="source css scss"><span class="comment block scss"><span>&nbsp;*&nbsp;See&nbsp;</span><span class="markup underline link https hyperlink"><span>https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests</span></span></span></span></div><div class="line"><span class="source css scss"><span class="comment block scss"><span>&nbsp;</span><span class="punctuation whitespace comment trailing scss"><span>*/</span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta at-rule function scss"><span class="keyword control at-rule function scss"><span class="punctuation definition keyword scss"><span>@</span></span><span>function</span></span><span>&nbsp;</span><span class="support function misc scss"><span>contrast</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$back</span></span></span><span class="punctuation scss"><span>,</span></span><span class="variable scss"><span>&nbsp;</span><span class="variable scss"><span>$front</span></span></span><span class="punctuation section function scss"><span>)</span></span><span>&nbsp;</span></span><span class="meta property-list scss"><span class="punctuation section property-list begin scss"><span>{</span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="variable scss"><span>&nbsp;&nbsp;</span><span class="variable scss"><span>$backLum</span></span></span><span class="meta property-value scss"><span class="punctuation separator key-value scss"><span>:</span></span><span>&nbsp;</span><span class="support function misc scss"><span>luminance</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$back</span></span></span><span class="punctuation section function scss"><span>)</span></span><span>&nbsp;</span><span class="constant numeric scss"><span>+&nbsp;.05</span></span><span class="punctuation terminator rule scss"><span>;</span></span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="variable scss"><span>&nbsp;&nbsp;</span><span class="variable scss"><span>$foreLum</span></span></span><span class="meta property-value scss"><span class="punctuation separator key-value scss"><span>:</span></span><span>&nbsp;</span><span class="support function misc scss"><span>luminance</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$front</span></span></span><span class="punctuation section function scss"><span>)</span></span><span>&nbsp;</span><span class="constant numeric scss"><span>+&nbsp;.05</span></span><span class="punctuation terminator rule scss"><span>;</span></span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span>&nbsp;</span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="meta at-rule return scss"><span>&nbsp;&nbsp;</span><span class="keyword control return scss"><span class="punctuation definition keyword scss"><span>@</span></span><span>return</span></span><span>&nbsp;</span><span class="support function misc scss"><span>max</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$backLum</span></span></span><span class="punctuation scss"><span>,</span></span><span class="variable scss"><span>&nbsp;</span><span class="variable scss"><span>$foreLum</span></span></span><span class="punctuation section function scss"><span>)</span></span><span>&nbsp;/&nbsp;</span><span class="support function misc scss"><span>min</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$backLum</span></span></span><span class="punctuation scss"><span>,</span></span><span class="variable scss"><span>&nbsp;</span><span class="variable scss"><span>$foreLum</span></span></span><span class="punctuation section function scss"><span>)</span></span></span><span>;</span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="punctuation section property-list end scss"><span>}</span></span></span></span></div><div class="line"><span class="source css scss"><span>&nbsp;</span></span></div><div class="line"><span class="source css scss"><span class="comment block scss"><span class="punctuation whitespace comment trailing scss"><span>/*</span></span><span>*</span></span></span></div><div class="line"><span class="source css scss"><span class="comment block scss"><span>&nbsp;*&nbsp;Determine&nbsp;whether&nbsp;to&nbsp;use&nbsp;dark&nbsp;or&nbsp;light&nbsp;text&nbsp;on&nbsp;top&nbsp;of</span></span></span></div><div class="line"><span class="source css scss"><span class="comment block scss"><span>&nbsp;*&nbsp;given&nbsp;color.</span></span></span></div><div class="line"><span class="source css scss"><span class="comment block scss"><span>&nbsp;*&nbsp;Returns&nbsp;black&nbsp;for&nbsp;dark&nbsp;text&nbsp;and&nbsp;white&nbsp;for&nbsp;light&nbsp;text.</span></span></span></div><div class="line"><span class="source css scss"><span class="comment block scss"><span>&nbsp;</span><span class="punctuation whitespace comment trailing scss"><span>*/</span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta at-rule function scss"><span class="keyword control at-rule function scss"><span class="punctuation definition keyword scss"><span>@</span></span><span>function</span></span><span>&nbsp;</span><span class="support function misc scss"><span>choose-contrast-color</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$color</span></span></span><span class="punctuation section function scss"><span>)</span></span><span>&nbsp;</span></span><span class="meta property-list scss"><span class="punctuation section property-list begin scss"><span>{</span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="variable scss"><span>&nbsp;&nbsp;</span><span class="variable scss"><span>$lightContrast</span></span></span><span class="meta property-value scss"><span class="punctuation separator key-value scss"><span>:</span></span><span>&nbsp;</span><span class="support function misc scss"><span>contrast</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$color</span></span></span><span class="punctuation scss"><span>,</span></span><span>&nbsp;</span><span class="support constant color w3c-standard-color-name scss"><span>white</span></span><span class="punctuation section function scss"><span>)</span></span><span class="punctuation terminator rule scss"><span>;</span></span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="variable scss"><span>&nbsp;&nbsp;</span><span class="variable scss"><span>$darkContrast</span></span></span><span class="meta property-value scss"><span class="punctuation separator key-value scss"><span>:</span></span><span>&nbsp;</span><span class="support function misc scss"><span>contrast</span></span><span class="punctuation section function scss"><span>(</span></span><span class="variable scss"><span class="variable scss"><span>$color</span></span></span><span class="punctuation scss"><span>,</span></span><span>&nbsp;</span><span class="support constant color w3c-standard-color-name scss"><span>black</span></span><span class="punctuation section function scss"><span>)</span></span><span class="punctuation terminator rule scss"><span>;</span></span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span>&nbsp;</span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="meta at-rule if scss"><span>&nbsp;&nbsp;</span><span class="keyword control if scss"><span class="punctuation definition keyword scss"><span>@</span></span><span>if</span></span><span>&nbsp;</span><span>(</span><span class="variable scss"><span class="variable scss"><span>$lightContrast</span></span><span>&nbsp;</span></span><span>&gt;</span><span class="variable scss"><span>&nbsp;</span><span class="variable scss"><span>$darkContrast</span></span></span><span>)</span><span>&nbsp;</span></span><span class="meta property-list scss"><span class="punctuation section property-list begin scss"><span>{</span></span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="meta property-list scss"><span class="meta at-rule return scss"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control return scss"><span class="punctuation definition keyword scss"><span>@</span></span><span>return</span></span><span>&nbsp;</span><span class="support constant color w3c-standard-color-name scss"><span>white</span></span></span><span>;</span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="meta property-list scss"><span>&nbsp;&nbsp;</span><span class="punctuation section property-list end scss"><span>}</span></span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="meta at-rule else scss"><span>&nbsp;&nbsp;</span><span class="keyword control else scss"><span class="punctuation definition keyword scss"><span>@</span></span><span>else&nbsp;</span></span></span><span class="meta property-list scss"><span class="punctuation section property-list begin scss"><span>{</span></span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="meta property-list scss"><span class="meta at-rule return scss"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control return scss"><span class="punctuation definition keyword scss"><span>@</span></span><span>return</span></span><span>&nbsp;</span><span class="support constant color w3c-standard-color-name scss"><span>black</span></span></span><span>;</span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="meta property-list scss"><span>&nbsp;&nbsp;</span><span class="punctuation section property-list end scss"><span>}</span></span></span></span></span></div><div class="line"><span class="source css scss"><span class="meta property-list scss"><span class="punctuation section property-list end scss"><span>}</span></span></span></span></div></code></pre>
<p>That’s it! We now have contrast calculation in Sass, and we’re automatically picking black or white text, depending on which provides the most contrast. This can have a huge impact on readability, particularly for users with low vision.</p>
<p>This solution only requires an extra, pre-calculated constants file that will never change. It works with any Sass implementation, and it won’t bloat your CSS since it’s only used at build time. Pretty neat!</p>
<p>Next time, I want to look at how to do the same thing in JavaScript, at runtime, so you can have dynamic theming with CSS custom properties. See you then!</p>
<p><strong>Edit</strong>: <a href="http://www.sassmeister.com/gist/ccc72f71137fe29039c92c0a9fe9b657">here’s a Sassmeister live demo</a> of the technique above.</p>


  </div>

  <div class="post-tags">
      <span class="post-tags-head">Tags:&nbsp;</span>
      <div class="post-tags-list">
        
          sass
        
          theming
        
      </div>
  </div>
</article>

    </main>

    <footer class="footer">
  <div class="footer-contents">
    <img class="footer-avatar" src="/assets/images/avatar.jpg" alt="Author's avatar">

    <div class="footer-text">
      <h2 class="footer-heading">Hey there!</h2>
      <p class="footer-description">I’m Sérgio, and I work with Web frontend code. Sometimes I write about it here.</p>
    </div>

    <div class="footer-icons">
      <div class="footer-icons-row">
        <a href="https://twitter.com/sergiomdgomes" class="footer-bubble footer-twitter" aria-label="Author's Twitter page"></a>
        <a href="mailto:mail@sgom.es" class="footer-bubble footer-email" aria-label="Author's email address"></a>
      </div>
      <div class="footer-icons-row">
        <a href="/feed.xml" class="footer-bubble footer-feed" aria-label="Atom feed for this site"></a>
        <a href="https://github.com/sgomes" class="footer-bubble footer-github" aria-label="Author's GitHub profile'"></a>
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <div class="footer-copyright">Articles under
    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons 4.0 Attribution</a>,
    code under <a rel="license" href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0</a>
    (unless otherwise indicated).</div>
  </div>
</footer>


    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js').catch(function(err) {
          console.log('Service worker registration failed: ', err);
        });
      }
    </script>

  </body>

</html>
