<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>CSS Custom Properties as your API</title>
  <meta name="description" content="I’m Sérgio, and I work at Web Developer Relations at Google, helping developers make the web a better place.">

    <!--
      Hello, and welcome to the source for my site!
      There's not a lot to see around here, but I hope you get some inspiration/ideas/laughs.

      Here's an ASCII art stick figure saying hi:  o/
                                                  /|
                                                  / \

      Also, no, I'm not Spanish. I just like short domain names.
    -->

  <link rel="canonical" href="https://sgom.es/">
  <link rel="alternate" type="application/rss+xml" title="sgom.es" href="/feed.xml">

  <link rel="manifest" href="/manifest.json">

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="sgom.es">
  <link rel="icon" sizes="16x16" href="/assets/images/touch/16x16.png">
  <link rel="icon" sizes="32x32" href="/assets/images/touch/32x32.png">
  <link rel="icon" sizes="192x192" href="/assets/images/touch/192x192.png">
  <link rel="icon" sizes="512x512" href="/assets/images/touch/512x512.png">

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="sgom.es">
  <link rel="apple-touch-icon" href="/assets/images/touch/152x152.png">

  <meta name="msapplication-TileImage" content="/assets/images/touch/144x144.png">
  <meta name="msapplication-TileColor" content="#009688">

  <meta name="theme-color" content="#009688">

  <style>
  @font-face{font-display:fallback;font-family:Roboto;font-style:normal;font-weight:400;src:local("Roboto"),local("Roboto-Regular"),url(/assets/fonts/oMMgfZMQthOryQo9n22dcuvvDin1pK8aKteLpeZ5c0A.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2212,U+2215}@font-face{font-display:fallback;font-family:Roboto;font-style:normal;font-weight:500;src:local("Roboto Medium"),local("Roboto-Medium"),url(/assets/fonts/RxZJdnzeo3R5zSexge8UUZBw1xU1rKptJj_0jans920.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2212,U+2215}@font-face{font-display:fallback;font-family:Roboto;font-style:normal;font-weight:700;src:local("Roboto Bold"),local("Roboto-Bold"),url(/assets/fonts/d-6IYplOFocCacKzxwXSOJBw1xU1rKptJj_0jans920.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2212,U+2215}@font-face{font-display:fallback;font-family:Roboto;font-style:italic;font-weight:400;src:local("Roboto Italic"),local("Roboto-Italic"),url(/assets/fonts/vPcynSL0qHq_6dX7lKVByXYhjbSpvc47ee6xR_80Hnw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2212,U+2215}@font-face{font-display:fallback;font-family:Roboto;font-style:italic;font-weight:500;src:local("Roboto Medium Italic"),local("Roboto-MediumItalic"),url(/assets/fonts/OLffGBTaF0XFOW1gnuHF0Ygp9Q8gbYrhqGlRav_IXfk.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2212,U+2215}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;src:local("Roboto Mono"),local("RobotoMono-Regular"),url(/assets/fonts/hMqPNLsu_dywMa4C_DEpY4gp9Q8gbYrhqGlRav_IXfk.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2212,U+2215}@keyframes mdc-ripple-fg-radius-in{from{transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1);animation-timing-function:cubic-bezier(.4,0,.2,1)}to{transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}@keyframes mdc-ripple-fg-opacity-in{from{opacity:0;animation-timing-function:linear}to{opacity:1}}@keyframes mdc-ripple-fg-opacity-out{from{opacity:1;animation-timing-function:linear}to{opacity:0}}.mdc-button{--mdc-ripple-surface-width:0;--mdc-ripple-surface-height:0;--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;will-change:transform,opacity;-webkit-tap-highlight-color:transparent;font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;font-weight:500;letter-spacing:.04em;line-height:1.5rem;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-light,rgba(0,0,0,.87));display:inline-block;position:relative;min-width:64px;height:36px;padding:0 16px;border:none;border-radius:2px;outline:0;background:0 0;font-size:14px;font-weight:500;line-height:36px;text-align:center;text-decoration:none;text-transform:uppercase;overflow:hidden;vertical-align:middle;user-select:none;box-sizing:border-box;-webkit-appearance:none}.mdc-button:not(.mdc-ripple-upgraded):active::after,.mdc-button:not(.mdc-ripple-upgraded):focus::before,.mdc-button:not(.mdc-ripple-upgraded):hover::before{transition-duration:85ms;opacity:.6}.mdc-button::before{background-color:rgba(0,0,0,.06);position:absolute;top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transition:opacity 250ms linear;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-button.mdc-ripple-upgraded::before{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transform:scale(0);transform:scale(var(--mdc-ripple-fg-scale,0))}.mdc-button.mdc-ripple-upgraded--background-focused::before{opacity:.99999}.mdc-button.mdc-ripple-upgraded--background-active-fill::before{transition-duration:120ms;opacity:1}.mdc-button.mdc-ripple-upgraded--unbounded::before{top:calc(50% - 50%);top:var(--mdc-ripple-top,calc(50% - 50%));left:calc(50% - 50%);left:var(--mdc-ripple-left,calc(50% - 50%));width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform:scale(var(--mdc-ripple-fg-scale,0))}.mdc-button::after{background-color:rgba(0,0,0,.06);position:absolute;top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transition:opacity 250ms linear;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-button.mdc-ripple-upgraded::after{top:0;left:0;width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform-origin:center center;opacity:0}.mdc-button:not(.mdc-ripple-upgraded--unbounded)::after{transform-origin:center center}.mdc-button.mdc-ripple-upgraded--unbounded::after{top:0;top:var(--mdc-ripple-top,0);left:0;left:var(--mdc-ripple-left,0);width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform-origin:center center}.mdc-button.mdc-ripple-upgraded--foreground-activation::after{animation:.3s mdc-ripple-fg-radius-in forwards,83ms mdc-ripple-fg-opacity-in forwards}.mdc-button.mdc-ripple-upgraded--foreground-deactivation::after{transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));animation:250ms mdc-ripple-fg-opacity-out}.mdc-button:not(.mdc-ripple-upgraded){-webkit-tap-highlight-color:rgba(0,0,0,.18)}.mdc-button--theme-dark,.mdc-theme--dark .mdc-button{--mdc-ripple-surface-width:0;--mdc-ripple-surface-height:0;--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;will-change:transform,opacity;-webkit-tap-highlight-color:transparent;color:#fff;color:var(--mdc-theme-text-primary-on-dark,#fff)}.mdc-button--theme-dark:not(.mdc-ripple-upgraded):active::after,.mdc-button--theme-dark:not(.mdc-ripple-upgraded):focus::before,.mdc-button--theme-dark:not(.mdc-ripple-upgraded):hover::before,.mdc-theme--dark .mdc-button:not(.mdc-ripple-upgraded):active::after,.mdc-theme--dark .mdc-button:not(.mdc-ripple-upgraded):focus::before,.mdc-theme--dark .mdc-button:not(.mdc-ripple-upgraded):hover::before{transition-duration:85ms;opacity:.6}.mdc-button--theme-dark::before,.mdc-theme--dark .mdc-button::before{background-color:rgba(255,255,255,.14);position:absolute;top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transition:opacity 250ms linear;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-button--theme-dark.mdc-ripple-upgraded::before,.mdc-theme--dark .mdc-button.mdc-ripple-upgraded::before{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transform:scale(0);transform:scale(var(--mdc-ripple-fg-scale,0))}.mdc-button--theme-dark.mdc-ripple-upgraded--background-focused::before,.mdc-theme--dark .mdc-button.mdc-ripple-upgraded--background-focused::before{opacity:.99999}.mdc-button--theme-dark.mdc-ripple-upgraded--background-active-fill::before,.mdc-theme--dark .mdc-button.mdc-ripple-upgraded--background-active-fill::before{transition-duration:120ms;opacity:1}.mdc-button--theme-dark.mdc-ripple-upgraded--unbounded::before,.mdc-theme--dark .mdc-button.mdc-ripple-upgraded--unbounded::before{top:calc(50% - 50%);top:var(--mdc-ripple-top,calc(50% - 50%));left:calc(50% - 50%);left:var(--mdc-ripple-left,calc(50% - 50%));width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform:scale(var(--mdc-ripple-fg-scale,0))}.mdc-button--theme-dark::after,.mdc-theme--dark .mdc-button::after{background-color:rgba(255,255,255,.14);position:absolute;top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transition:opacity 250ms linear;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-button--theme-dark.mdc-ripple-upgraded::after,.mdc-theme--dark .mdc-button.mdc-ripple-upgraded::after{top:0;left:0;width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform-origin:center center;opacity:0}.mdc-button--theme-dark:not(.mdc-ripple-upgraded--unbounded)::after,.mdc-theme--dark .mdc-button:not(.mdc-ripple-upgraded--unbounded)::after{transform-origin:center center}.mdc-button--theme-dark.mdc-ripple-upgraded--unbounded::after,.mdc-theme--dark .mdc-button.mdc-ripple-upgraded--unbounded::after{top:0;top:var(--mdc-ripple-top,0);left:0;left:var(--mdc-ripple-left,0);width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform-origin:center center}.mdc-button--theme-dark.mdc-ripple-upgraded--foreground-activation::after,.mdc-theme--dark .mdc-button.mdc-ripple-upgraded--foreground-activation::after{animation:.3s mdc-ripple-fg-radius-in forwards,83ms mdc-ripple-fg-opacity-in forwards}.mdc-button--theme-dark.mdc-ripple-upgraded--foreground-deactivation::after,.mdc-theme--dark .mdc-button.mdc-ripple-upgraded--foreground-deactivation::after{transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));animation:250ms mdc-ripple-fg-opacity-out}.mdc-button--theme-dark:not(.mdc-ripple-upgraded),.mdc-theme--dark .mdc-button:not(.mdc-ripple-upgraded){-webkit-tap-highlight-color:rgba(255,255,255,.18)}.mdc-button.mdc-button--primary{--mdc-ripple-surface-width:0;--mdc-ripple-surface-height:0;--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;will-change:transform,opacity;-webkit-tap-highlight-color:transparent}.mdc-button.mdc-button--primary:not(.mdc-ripple-upgraded):active::after,.mdc-button.mdc-button--primary:not(.mdc-ripple-upgraded):focus::before,.mdc-button.mdc-button--primary:not(.mdc-ripple-upgraded):hover::before{transition-duration:85ms;opacity:.6}.mdc-button.mdc-button--primary::before{background-color:rgba(0,150,136,.12);position:absolute;top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transition:opacity 250ms linear;border-radius:50%;opacity:0;pointer-events:none;content:""}@supports (background-color:color(green a(10%))){.mdc-button.mdc-button--primary::before{background-color:color(var(--mdc-theme-primary,#009688) a(12%))}}.mdc-button.mdc-button--primary.mdc-ripple-upgraded::before{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transform:scale(0);transform:scale(var(--mdc-ripple-fg-scale,0))}.mdc-button.mdc-button--primary.mdc-ripple-upgraded--background-focused::before{opacity:.99999}.mdc-button.mdc-button--primary.mdc-ripple-upgraded--background-active-fill::before{transition-duration:120ms;opacity:1}.mdc-button.mdc-button--primary.mdc-ripple-upgraded--unbounded::before{top:calc(50% - 50%);top:var(--mdc-ripple-top,calc(50% - 50%));left:calc(50% - 50%);left:var(--mdc-ripple-left,calc(50% - 50%));width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform:scale(var(--mdc-ripple-fg-scale,0))}.mdc-button.mdc-button--primary::after{background-color:rgba(0,150,136,.12);position:absolute;top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transition:opacity 250ms linear;border-radius:50%;opacity:0;pointer-events:none;content:""}@supports (background-color:color(green a(10%))){.mdc-button.mdc-button--primary::after{background-color:color(var(--mdc-theme-primary,#009688) a(12%))}}.mdc-button.mdc-button--primary.mdc-ripple-upgraded::after{top:0;left:0;width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform-origin:center center;opacity:0}.mdc-button.mdc-button--primary:not(.mdc-ripple-upgraded--unbounded)::after{transform-origin:center center}.mdc-button.mdc-button--primary.mdc-ripple-upgraded--unbounded::after{top:0;top:var(--mdc-ripple-top,0);left:0;left:var(--mdc-ripple-left,0);width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform-origin:center center}.mdc-button.mdc-button--primary.mdc-ripple-upgraded--foreground-activation::after{animation:.3s mdc-ripple-fg-radius-in forwards,83ms mdc-ripple-fg-opacity-in forwards}.mdc-button.mdc-button--primary.mdc-ripple-upgraded--foreground-deactivation::after{transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));animation:250ms mdc-ripple-fg-opacity-out}.mdc-button.mdc-button--accent{--mdc-ripple-surface-width:0;--mdc-ripple-surface-height:0;--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;will-change:transform,opacity;-webkit-tap-highlight-color:transparent}.mdc-button.mdc-button--accent:not(.mdc-ripple-upgraded):active::after,.mdc-button.mdc-button--accent:not(.mdc-ripple-upgraded):focus::before,.mdc-button.mdc-button--accent:not(.mdc-ripple-upgraded):hover::before{transition-duration:85ms;opacity:.6}.mdc-button.mdc-button--accent::before{background-color:rgba(255,171,64,.12);position:absolute;top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transition:opacity 250ms linear;border-radius:50%;opacity:0;pointer-events:none;content:""}@supports (background-color:color(green a(10%))){.mdc-button.mdc-button--accent::before{background-color:color(var(--mdc-theme-accent,#ffab40) a(12%))}}.mdc-button.mdc-button--accent.mdc-ripple-upgraded::before{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transform:scale(0);transform:scale(var(--mdc-ripple-fg-scale,0))}.mdc-button.mdc-button--accent.mdc-ripple-upgraded--background-focused::before{opacity:.99999}.mdc-button.mdc-button--accent.mdc-ripple-upgraded--background-active-fill::before{transition-duration:120ms;opacity:1}.mdc-button.mdc-button--accent.mdc-ripple-upgraded--unbounded::before{top:calc(50% - 50%);top:var(--mdc-ripple-top,calc(50% - 50%));left:calc(50% - 50%);left:var(--mdc-ripple-left,calc(50% - 50%));width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform:scale(var(--mdc-ripple-fg-scale,0))}.mdc-button.mdc-button--accent::after{background-color:rgba(255,171,64,.12);position:absolute;top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transition:opacity 250ms linear;border-radius:50%;opacity:0;pointer-events:none;content:""}@supports (background-color:color(green a(10%))){.mdc-button.mdc-button--accent::after{background-color:color(var(--mdc-theme-accent,#ffab40) a(12%))}}.mdc-button.mdc-button--accent.mdc-ripple-upgraded::after{top:0;left:0;width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform-origin:center center;opacity:0}.mdc-button.mdc-button--accent:not(.mdc-ripple-upgraded--unbounded)::after{transform-origin:center center}.mdc-button.mdc-button--accent.mdc-ripple-upgraded--unbounded::after{top:0;top:var(--mdc-ripple-top,0);left:0;left:var(--mdc-ripple-left,0);width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform-origin:center center}.mdc-button.mdc-button--accent.mdc-ripple-upgraded--foreground-activation::after{animation:.3s mdc-ripple-fg-radius-in forwards,83ms mdc-ripple-fg-opacity-in forwards}.mdc-button.mdc-button--accent.mdc-ripple-upgraded--foreground-deactivation::after{transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));animation:250ms mdc-ripple-fg-opacity-out}.mdc-button:active{outline:0}.mdc-button:hover{cursor:pointer}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button--dense{height:32px;font-size:.8125rem;line-height:32px}.mdc-button--raised{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);will-change:box-shadow;min-width:88px}.mdc-button--raised:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mdc-button--raised.mdc-button--primary{--mdc-ripple-surface-width:0;--mdc-ripple-surface-height:0;--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;will-change:transform,opacity;-webkit-tap-highlight-color:transparent}.mdc-button--raised.mdc-button--primary:not(.mdc-ripple-upgraded):active::after,.mdc-button--raised.mdc-button--primary:not(.mdc-ripple-upgraded):focus::before,.mdc-button--raised.mdc-button--primary:not(.mdc-ripple-upgraded):hover::before{transition-duration:85ms;opacity:.6}.mdc-button--raised.mdc-button--primary::before{background-color:rgba(255,255,255,.14);position:absolute;top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transition:opacity 250ms linear;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-button--raised.mdc-button--primary.mdc-ripple-upgraded::before{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transform:scale(0);transform:scale(var(--mdc-ripple-fg-scale,0))}.mdc-button--raised.mdc-button--primary.mdc-ripple-upgraded--background-focused::before{opacity:.99999}.mdc-button--raised.mdc-button--primary.mdc-ripple-upgraded--background-active-fill::before{transition-duration:120ms;opacity:1}.mdc-button--raised.mdc-button--primary.mdc-ripple-upgraded--unbounded::before{top:calc(50% - 50%);top:var(--mdc-ripple-top,calc(50% - 50%));left:calc(50% - 50%);left:var(--mdc-ripple-left,calc(50% - 50%));width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform:scale(var(--mdc-ripple-fg-scale,0))}.mdc-button--raised.mdc-button--primary::after{background-color:rgba(255,255,255,.14);position:absolute;top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transition:opacity 250ms linear;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-button--raised.mdc-button--primary.mdc-ripple-upgraded::after{top:0;left:0;width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform-origin:center center;opacity:0}.mdc-button--raised.mdc-button--primary:not(.mdc-ripple-upgraded--unbounded)::after{transform-origin:center center}.mdc-button--raised.mdc-button--primary.mdc-ripple-upgraded--unbounded::after{top:0;top:var(--mdc-ripple-top,0);left:0;left:var(--mdc-ripple-left,0);width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform-origin:center center}.mdc-button--raised.mdc-button--primary.mdc-ripple-upgraded--foreground-activation::after{animation:.3s mdc-ripple-fg-radius-in forwards,83ms mdc-ripple-fg-opacity-in forwards}.mdc-button--raised.mdc-button--primary.mdc-ripple-upgraded--foreground-deactivation::after{transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));animation:250ms mdc-ripple-fg-opacity-out}.mdc-button--raised.mdc-button--accent{--mdc-ripple-surface-width:0;--mdc-ripple-surface-height:0;--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;will-change:transform,opacity;-webkit-tap-highlight-color:transparent}.mdc-button--raised.mdc-button--accent:not(.mdc-ripple-upgraded):active::after,.mdc-button--raised.mdc-button--accent:not(.mdc-ripple-upgraded):focus::before,.mdc-button--raised.mdc-button--accent:not(.mdc-ripple-upgraded):hover::before{transition-duration:85ms;opacity:.6}.mdc-button--raised.mdc-button--accent::before{background-color:rgba(255,255,255,.14);position:absolute;top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transition:opacity 250ms linear;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-button--raised.mdc-button--accent.mdc-ripple-upgraded::before{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transform:scale(0);transform:scale(var(--mdc-ripple-fg-scale,0))}.mdc-button--raised.mdc-button--accent.mdc-ripple-upgraded--background-focused::before{opacity:.99999}.mdc-button--raised.mdc-button--accent.mdc-ripple-upgraded--background-active-fill::before{transition-duration:120ms;opacity:1}.mdc-button--raised.mdc-button--accent.mdc-ripple-upgraded--unbounded::before{top:calc(50% - 50%);top:var(--mdc-ripple-top,calc(50% - 50%));left:calc(50% - 50%);left:var(--mdc-ripple-left,calc(50% - 50%));width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform:scale(var(--mdc-ripple-fg-scale,0))}.mdc-button--raised.mdc-button--accent::after{background-color:rgba(255,255,255,.14);position:absolute;top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%;transition:opacity 250ms linear;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-button--raised.mdc-button--accent.mdc-ripple-upgraded::after{top:0;left:0;width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform-origin:center center;opacity:0}.mdc-button--raised.mdc-button--accent:not(.mdc-ripple-upgraded--unbounded)::after{transform-origin:center center}.mdc-button--raised.mdc-button--accent.mdc-ripple-upgraded--unbounded::after{top:0;top:var(--mdc-ripple-top,0);left:0;left:var(--mdc-ripple-left,0);width:100%;width:var(--mdc-ripple-fg-size,100%);height:100%;height:var(--mdc-ripple-fg-size,100%);transform:scale(0);transform-origin:center center}.mdc-button--raised.mdc-button--accent.mdc-ripple-upgraded--foreground-activation::after{animation:.3s mdc-ripple-fg-radius-in forwards,83ms mdc-ripple-fg-opacity-in forwards}.mdc-button--raised.mdc-button--accent.mdc-ripple-upgraded--foreground-deactivation::after{transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));animation:250ms mdc-ripple-fg-opacity-out}.mdc-button--theme-dark .mdc-button--raised,.mdc-theme--dark .mdc-button--raised{background-color:#009688;background-color:var(--mdc-theme-primary,#009688)}.mdc-button--theme-dark .mdc-button--raised::before,.mdc-theme--dark .mdc-button--raised::before{color:#000}.mdc-button--primary{color:#009688;color:var(--mdc-theme-primary,#009688)}.mdc-button--theme-dark .mdc-button--primary,.mdc-theme--dark .mdc-button--primary{color:#009688;color:var(--mdc-theme-primary,#009688)}.mdc-button--primary.mdc-button--raised{background-color:#009688;background-color:var(--mdc-theme-primary,#009688);color:#fff;color:var(--mdc-theme-text-primary-on-primary,#fff)}.mdc-button--primary.mdc-button--raised::before{color:#000}.mdc-button--accent{color:#ffab40;color:var(--mdc-theme-accent,#ffab40)}.mdc-button--theme-dark .mdc-button--accent,.mdc-theme--dark .mdc-button--accent{color:#ffab40;color:var(--mdc-theme-accent,#ffab40)}.mdc-button--accent.mdc-button--raised{background-color:#ffab40;background-color:var(--mdc-theme-accent,#ffab40);color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-accent,rgba(0,0,0,.87))}.mdc-button--accent.mdc-button--raised::before{color:#000}.mdc-button--compact{padding:0 8px}.mdc-button:disabled,fieldset:disabled .mdc-button{color:rgba(0,0,0,.26);cursor:default;pointer-events:none}.mdc-button--theme-dark .mdc-button:disabled,.mdc-button--theme-dark fieldset:disabled .mdc-button,.mdc-theme--dark .mdc-button:disabled,.mdc-theme--dark fieldset:disabled .mdc-button{color:rgba(255,255,255,.3)}.mdc-button--raised:disabled,fieldset:disabled .mdc-button--raised{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12);background-color:rgba(0,0,0,.12);pointer-events:none}.mdc-button--theme-dark .mdc-button--raised:disabled,.mdc-button--theme-dark fieldset:disabled .mdc-button--raised,.mdc-theme--dark .mdc-button--raised:disabled,.mdc-theme--dark fieldset:disabled .mdc-button--raised{background-color:rgba(255,255,255,.12)}.header{display:flex;height:80px;background:#009688;color:#fff;justify-content:center;align-items:center;flex-shrink:0;z-index:2;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.header-title{text-decoration:none;color:#fff;font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:2.125rem;font-weight:400;letter-spacing:normal;line-height:2.5rem;margin:-.5rem 0 4rem -.07em;font-weight:700}.header-title:hover,.header-title:visited{color:#fff}.post{background:#fff;padding:48px 24px;margin:0 auto;color:rgba(0,0,0,.87);width:100%;max-width:45rem;box-sizing:border-box}.post-title{display:block;color:#009688;font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.5rem;font-weight:400;letter-spacing:normal;line-height:2rem;margin:-.5rem 0 1rem -.06em;font-weight:700;margin-bottom:0}.post-meta{display:block;color:#009688;font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;font-weight:500;letter-spacing:.04em;line-height:1.5rem;margin-bottom:16px}.post-tags{display:inline-block;flex-grow:1;font-family:'Roboto Mono',monospace;letter-spacing:normal}.post-image{max-width:100%;margin:0 auto}.post-image>img{display:block}.post-content{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;font-weight:400;letter-spacing:.04em;line-height:1.25rem;font-size:1rem;letter-spacing:normal}.post-content h1{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.5rem;font-weight:400;letter-spacing:normal;line-height:2rem}.post-content h2{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.25rem;font-weight:500;letter-spacing:.02em;line-height:2rem;margin-top:2rem}.post-content h3{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.25rem;font-weight:500;letter-spacing:.02em;line-height:2rem;font-size:1rem;color:rgba(0,0,0,.7)}.post-content h4{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;font-weight:500;letter-spacing:.04em;line-height:1.5rem;font-size:1rem;letter-spacing:normal}.post-content a{color:#00bfa5}.post-content a:hover,.post-content a:visited{color:#00bfa5}.post-content pre{border-radius:2px;margin:0;padding:16px;font-size:.9375rem;font-style:normal;font-weight:400;letter-spacing:normal;line-height:normal;font-family:'Roboto Mono',monospace;overflow-x:auto}.post-content pre+pre{margin-top:16px}.post-content code{font-size:.9375rem;color:#0d47a1;font-family:'Roboto Mono',monospace}.post-content strong{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;font-weight:500;letter-spacing:.04em;line-height:1.5rem;font-size:1rem;letter-spacing:normal}.post-content figure{max-width:100%;box-sizing:border-box;margin:0}.post-content figcaption{text-align:center;font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.75rem;font-weight:400;letter-spacing:.08em;line-height:1.25rem}.post-content blockquote{margin:2em 2.5em 3em 2.5em}.post-content table{margin:2rem 0;border-collapse:collapse;text-align:center}.post-content table td,.post-content table th{padding:8px;border:1px solid #ddd}.post-content .overflow-x{overflow-x:auto}.home{padding:24px 0;box-sizing:border-box}.home-post-list{box-sizing:border-box;list-style:none;padding:0 8px;margin:0 auto 0 auto;width:100%;max-width:45rem}.home-post-entry{background:#fff;padding:16px;box-sizing:border-box;width:100%;border-radius:2px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;font-weight:400;letter-spacing:.04em;line-height:1.25rem}.home-post-entry+.home-post-entry{margin-top:16px}.home-post-title{display:inline;padding-right:4px;font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.5rem;font-weight:400;letter-spacing:normal;line-height:2rem;margin:-.5rem 0 1rem -.06em;font-weight:700}.home-post-title>a{text-decoration:none;color:#009688}.home-post-title>a:hover,.home-post-title>a:visited{color:#009688}.home-post-meta{display:inline-block;margin-bottom:0}.home-post-excerpt{margin:8px 0 0 0;color:rgba(0,0,0,.87);font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;font-weight:400;letter-spacing:.04em;line-height:1.25rem;font-size:1rem;letter-spacing:normal}.home-post-bottom{display:flex;flex-flow:row;padding-top:16px}.home-pagination{display:flex;flex-flow:row nowrap;padding:16px 8px;box-sizing:border-box;margin:0 auto;width:100%;max-width:45rem}.home-page-previous{margin-right:auto}.home-page-next{margin-left:auto}.footer{display:flex;flex-flow:column nowrap;width:100%;background-color:#009688;color:#fff;padding:16px;box-sizing:border-box;flex-shrink:0;z-index:2;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.footer-contents{display:flex;position:relative;flex-flow:row nowrap;justify-content:center;align-items:center;margin:0 auto 0 auto;flex-shrink:0;box-sizing:border-box;padding:0 24px;width:100%;max-width:45rem}@media (max-width:600px){.footer-contents{flex-wrap:wrap;padding:0}}.footer-avatar{border-radius:10%;width:100px;height:100px;background:#000;flex-grow:0;flex-shrink:0;margin-right:16px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.footer-text{flex-grow:1;flex-shrink:1;padding:16px;width:50%}.footer-heading{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.25rem;font-weight:500;letter-spacing:.02em;line-height:2rem;margin:-.5rem 0 1rem -.05em;margin-bottom:8px}.footer-description{margin:0}.footer-icons{display:block;flex-shrink:0}.footer-icons-row{display:block;flex-shrink:0}@media (max-width:600px){.footer-icons-row{display:inline-block}}.footer-bubble{display:inline-block;border-radius:50%;height:40px;width:40px;flex-shrink:0;margin:2px;background-repeat:no-repeat;background-size:contain;background-position:center}.footer-twitter{background-image:url(/assets/images/twitter.svg)}.footer-github{border-radius:0;background-image:url(/assets/images/github.svg)}.footer-email{background-image:url(/assets/images/email.svg)}.footer-feed{background-image:url(/assets/images/feed.svg)}.footer-bottom{display:flex;position:relative;justify-content:center;margin:8px auto 0 auto;flex-shrink:0;width:100%;max-width:45rem}.footer-bottom::before{display:block;position:absolute;top:50%;width:100%;height:1px;background:rgba(255,255,255,.17);content:''}.footer-copyright{display:inline-block;text-align:center;background:#009688;z-index:2;padding:0 8px;font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.75rem;font-weight:400;letter-spacing:.08em;line-height:1.25rem}.footer-copyright a{color:#fff;text-decoration:none;font-weight:700}.footer-copyright a:hover,.footer-copyright a:visited{color:#fff}.post-content pre{background:#f5f5f5}.post-content pre code{color:rgba(0,0,0,.87)}.post-content pre code .comment{color:#616161}.post-content pre code .comment .markup.link{color:#616161}.post-content pre code .entity.name.type{color:#3e2723}.post-content pre code .entity.other.inherited-class{color:#1b5e20}.post-content pre code .keyword{color:#4a148c}.post-content pre code .keyword.control{color:#4a148c}.post-content pre code .keyword.operator{color:rgba(0,0,0,.87)}.post-content pre code .keyword.other.special-method{color:#0d47a1}.post-content pre code .keyword.other.unit{color:#e65100}.post-content pre code .storage{color:#4a148c}.post-content pre code .constant{color:#e65100}.post-content pre code .constant.character.escape{color:#006064}.post-content pre code .constant.numeric{color:#e65100}.post-content pre code .constant.other.color{color:#006064}.post-content pre code .constant.other.symbol{color:#1b5e20}.post-content pre code .variable{color:#b71c1c}.post-content pre code .variable.interpolation{color:#3e2723}.post-content pre code .variable.parameter.function{color:rgba(0,0,0,.87)}.post-content pre code .invalid.illegal{background-color:#b71c1c;color:#f5f5f5}.post-content pre code .string{color:#1b5e20}.post-content pre code .string.regexp{color:#006064}.post-content pre code .string.regexp .source.ruby.embedded{color:#3e2723}.post-content pre code .string.other.link{color:#b71c1c}.post-content pre code .punctuation.definition.array,.post-content pre code .punctuation.definition.parameters{color:rgba(0,0,0,.87)}.post-content pre code .punctuation.definition.heading,.post-content pre code .punctuation.definition.identity{color:#0d47a1}.post-content pre code .punctuation.definition.bold{color:#3e2723;font-weight:700}.post-content pre code .punctuation.definition.italic{color:#4a148c;font-style:italic}.post-content pre code .punctuation.section.embedded{color:#3e2723}.post-content pre code .punctuation.section.class,.post-content pre code .punctuation.section.inner-class,.post-content pre code .punctuation.section.method{color:rgba(0,0,0,.87)}.post-content pre code .support.class{color:#3e2723}.post-content pre code .support.function{color:#006064}.post-content pre code .support.function.any-method{color:#0d47a1}.post-content pre code .entity.name.function{color:#0d47a1}.post-content pre code .entity.name.class,.post-content pre code .entity.name.type.class{color:#3e2723}.post-content pre code .entity.name.section{color:#0d47a1}.post-content pre code .entity.name.tag{color:#b71c1c}.post-content pre code .entity.other.attribute-name{color:#e65100}.post-content pre code .entity.other.attribute-name.id{color:#0d47a1}.post-content pre code .meta.class{color:#3e2723}.post-content pre code .meta.class.body{color:rgba(0,0,0,.87)}.post-content pre code .meta.link{color:#e65100}.post-content pre code .meta.method,.post-content pre code .meta.method-call{color:rgba(0,0,0,.87)}.post-content pre code .meta.require{color:#0d47a1}.post-content pre code .meta.selector{color:#4a148c}.post-content pre code .meta.separator{background-color:#373b41;color:rgba(0,0,0,.87)}.post-content pre code .meta.tag{color:rgba(0,0,0,.87)}.post-content pre code .none{color:rgba(0,0,0,.87)}.post-content pre code .markup.bold{color:#e65100;font-weight:700}.post-content pre code .markup.changed{color:#4a148c}.post-content pre code .markup.deleted{color:#b71c1c}.post-content pre code .markup.italic{color:#4a148c;font-style:italic}.post-content pre code .markup.heading{color:#b71c1c}.post-content pre code .markup.heading .punctuation.definition.heading{color:#0d47a1}.post-content pre code .markup.link{color:#0d47a1}.post-content pre code .markup.inserted{color:#1b5e20}.post-content pre code .markup.quote{color:#e65100}.post-content pre code .markup.raw{color:#1b5e20}.post-content pre code .source.gfm .markup{-webkit-font-smoothing:auto}.post-content pre code .source.gfm .link .entity{color:#006064}.aspect-ratio{--aspect-ratio-w:1;--aspect-ratio-h:1;position:relative}.aspect-ratio>:first-child{width:100%}@supports (--custom-props:true){.aspect-ratio::before{display:block;padding-top:calc(var(--aspect-ratio-h,1)/ var(--aspect-ratio-w,1) * 100%);content:""}.aspect-ratio>:first-child{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%}}body,html{display:flex;flex-direction:column;margin:0;padding:0;box-sizing:border-box;font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:100%}.site-content{flex-grow:1;background:#eceff1}.mdc-button{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-decoration:none}
  </style>

  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90468985-1', 'auto');
  ga('send', 'pageview');

</script>

  
</head>


  <body>

    <header class="header" role="banner">
<div>
  <a class="header-title" href="/">sgom.es</a>
</div>
</header>


    <main class="site-content" aria-label="Content">
        
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">CSS Custom Properties as your API</h1>
    <time class="post-meta" datetime="2017-02-17T18:00:00+00:00" itemprop="datePublished">(2017-02-17)</time>
  </header>

  <div class="post-content" itemprop="articleBody">
    
<p>Now that you’re <a href="/posts/2017-01-27-css-custom-properties-the-basics">comfortable with custom properties</a> and <a href="/posts/2017-02-03-more-readable-css-with-css-custom-properties">know how to use them to improve readability in your CSS</a>, let’s look at how you can use them to enhance modularity and reusability in your code.</p>
<h2 id="modular-css-building-a-configurable-grid">Modular CSS: building a configurable grid</h2>
<p>If you don&#39;t have access to the superb <a href="https://www.w3.org/TR/css-grid-1/">CSS Grid</a>, building a <a href="https://www.w3.org/TR/css-flexbox-1/">flexbox</a>-based grid becomes a very interesting CSS exercise, that can turn out to be an extremely customizable and reusable module. Let’s look at a simple implementation:</p>
<pre><code class="lang-css"><div class="line"><span class="source css"><span class="meta selector css"><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>grid</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>display</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span>flex</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>flex-direction</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span>row</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>flex-wrap</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span>wrap</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>padding</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support function misc css"><span>calc</span></span><span>(</span><span class="support function misc css"><span>var</span></span><span>(</span><span class="variable argument css"><span>-</span><span>-</span><span>m</span><span>a</span><span>r</span><span>g</span><span>i</span><span>n</span></span><span>)</span><span>&nbsp;/&nbsp;</span><span class="constant numeric css"><span>2</span></span><span>)</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span>&nbsp;</span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>grid</span></span><span>&nbsp;&gt;&nbsp;</span><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>cell</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>display</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant property-value css"><span>block</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>width</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support function misc css"><span>calc</span></span><span>(</span><span class="constant numeric css"><span>100</span><span class="keyword other unit css"><span>%</span></span></span><span>&nbsp;/&nbsp;</span><span class="support function misc css"><span>var</span></span><span>(</span><span class="variable argument css"><span>-</span><span>-</span><span>c</span><span>o</span><span>l</span><span>u</span><span>m</span><span>n</span><span>s</span></span><span>)</span><span>&nbsp;-&nbsp;</span><span class="support function misc css"><span>var</span></span><span>(</span><span class="variable argument css"><span>-</span><span>-</span><span>m</span><span>a</span><span>r</span><span>g</span><span>i</span><span>n</span></span><span>)</span><span>)</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>margin</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support function misc css"><span>calc</span></span><span>(</span><span class="support function misc css"><span>var</span></span><span>(</span><span class="variable argument css"><span>-</span><span>-</span><span>m</span><span>a</span><span>r</span><span>g</span><span>i</span><span>n</span></span><span>)</span><span>&nbsp;/&nbsp;</span><span class="constant numeric css"><span>2</span></span><span>)</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div>
</code></pre>
<p>How can we make this more modular? First, let’s namespace everything carefully. There are several methodologies you can follow, such as <a href="http://getbem.com/">BEM</a> and <a href="https://smacss.com/">SMACSS</a>, but let’s keep things simple in this article and prefix every class and custom property with <code>my-</code>. Also, let’s add some defaults and comments for the custom properties.</p>
<pre><code class="lang-css"><div class="line"><span class="source css"><span class="meta selector css"><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-grid</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;my-grid&nbsp;custom&nbsp;properties&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;Number&nbsp;of&nbsp;columns&nbsp;on&nbsp;the&nbsp;grid.&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-grid-columns</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>1</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;How&nbsp;much&nbsp;space&nbsp;to&nbsp;use&nbsp;on&nbsp;grid&nbsp;margins&nbsp;and&nbsp;inner&nbsp;gutters.&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-grid-margin</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>16</span><span class="keyword other unit css"><span>px</span></span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;</span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>display</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span>flex</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>flex-direction</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span>row</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>flex-wrap</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span>wrap</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;Fallback&nbsp;for&nbsp;browsers&nbsp;without&nbsp;custom&nbsp;properties.&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>padding</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>8</span><span class="keyword other unit css"><span>px</span></span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>padding</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support function misc css"><span>calc</span></span><span>(</span><span class="support function misc css"><span>var</span></span><span>(</span><span class="variable argument css"><span>-</span><span>-</span><span>m</span><span>y</span><span>-</span><span>g</span><span>r</span><span>i</span><span>d</span><span>-</span><span>m</span><span>a</span><span>r</span><span>g</span><span>i</span><span>n</span></span><span>)</span><span>&nbsp;/&nbsp;</span><span class="constant numeric css"><span>2</span></span><span>)</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span>&nbsp;</span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-grid</span></span><span>&nbsp;&gt;&nbsp;</span><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-grid-cell</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>display</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant property-value css"><span>block</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;Fallback&nbsp;for&nbsp;browsers&nbsp;without&nbsp;custom&nbsp;properties.&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>width</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support function misc css"><span>calc</span></span><span>(</span><span class="constant numeric css"><span>100</span><span class="keyword other unit css"><span>%</span></span></span><span>&nbsp;-&nbsp;</span><span class="constant numeric css"><span>8</span><span class="keyword other unit css"><span>px</span></span></span><span>)</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>width</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support function misc css"><span>calc</span></span><span>(</span><span class="constant numeric css"><span>100</span><span class="keyword other unit css"><span>%</span></span></span><span>&nbsp;/&nbsp;</span><span class="support function misc css"><span>var</span></span><span>(</span><span class="variable argument css"><span>-</span><span>-</span><span>m</span><span>y</span><span>-</span><span>g</span><span>r</span><span>i</span><span>d</span><span>-</span><span>c</span><span>o</span><span>l</span><span>u</span><span>m</span><span>n</span><span>s</span></span><span>)</span><span>&nbsp;-&nbsp;</span><span class="support function misc css"><span>var</span></span><span>(</span><span class="variable argument css"><span>-</span><span>-</span><span>m</span><span>y</span><span>-</span><span>g</span><span>r</span><span>i</span><span>d</span><span>-</span><span>m</span><span>a</span><span>r</span><span>g</span><span>i</span><span>n</span></span><span>)</span><span>)</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;Fallback&nbsp;for&nbsp;browsers&nbsp;without&nbsp;custom&nbsp;properties.&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>margin</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>8</span><span class="keyword other unit css"><span>px</span></span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>margin</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support function misc css"><span>calc</span></span><span>(</span><span class="support function misc css"><span>var</span></span><span>(</span><span class="variable argument css"><span>-</span><span>-</span><span>m</span><span>y</span><span>-</span><span>g</span><span>r</span><span>i</span><span>d</span><span>-</span><span>m</span><span>a</span><span>r</span><span>g</span><span>i</span><span>n</span></span><span>)</span><span>&nbsp;/&nbsp;</span><span class="constant numeric css"><span>2</span></span><span>)</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div>
</code></pre>
<p><code>my-grid</code> is now an encapsulated, self-sufficient module. So what does it looks like to consume it?</p>
<pre><code class="lang-html"><div class="line"><span class="text html basic"><span class="meta tag inline any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag inline any html"><span>link</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>rel</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>stylesheet</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>href</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>my-grid.css</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div>
</code></pre>
<p>That’s it! By importing the CSS you’re importing the defaults, and you can take advantage of the import order to override them with your own.</p>
<pre><code class="lang-html"><div class="line"><span class="text html basic"><span class="meta tag inline any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag inline any html"><span>link</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>rel</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>stylesheet</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>href</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>my-grid.css</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html basic"><span class="source css embedded html"><span class="punctuation definition tag html"><span>&lt;</span></span><span class="entity name tag style html"><span>style</span></span><span class="punctuation definition tag html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html basic"><span class="source css embedded html"><span class="meta selector css"><span>&nbsp;&nbsp;</span><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-grid</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></span></div><div class="line"><span class="text html basic"><span class="source css embedded html"><span class="meta property-list css"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-grid-columns</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>2</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></span></div><div class="line"><span class="text html basic"><span class="source css embedded html"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="punctuation section property-list end css"><span>}</span></span></span></span></span></div><div class="line"><span class="text html basic"><span class="source css embedded html"><span class="punctuation definition tag html"><span>&lt;/</span></span><span class="entity name tag style html"><span>style</span></span><span class="punctuation definition tag html"><span>&gt;</span></span><span>&nbsp;</span></span></span></div>
</code></pre>
<p>Of course, you don’t need to redefine the defaults; you can always add more specific selectors instead, easily and intuitively defining multiple breakpoints that change the margins and number of columns at multiple screen sizes:</p>
<pre><code class="lang-css"><div class="line"><span class="source css"><span class="meta selector css"><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-app</span></span><span>&nbsp;</span><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-grid</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-grid-columns</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>1</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-grid-margin</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>8</span><span class="keyword other unit css"><span>px</span></span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span>&nbsp;</span></span></div><div class="line"><span class="source css"><span class="meta at-rule media css"><span class="keyword control at-rule media css"><span class="punctuation definition keyword css"><span>@</span></span><span>media</span></span><span>&nbsp;</span><span>(</span><span>min-size:&nbsp;</span><span class="constant numeric css"><span>600</span><span class="keyword other unit css"><span>px</span></span></span><span>)</span><span>&nbsp;</span></span><span class="punctuation section property-list begin css"><span>{</span></span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span>&nbsp;&nbsp;</span><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-app</span></span><span>&nbsp;</span><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-grid</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-grid-columns</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>3</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-grid-margin</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>16</span><span class="keyword other unit css"><span>px</span></span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span class="punctuation section property-list end css"><span>}</span></span></span></div><div class="line"><span class="source css"><span>&nbsp;</span></span></div><div class="line"><span class="source css"><span class="meta at-rule media css"><span class="keyword control at-rule media css"><span class="punctuation definition keyword css"><span>@</span></span><span>media</span></span><span>&nbsp;</span><span>(</span><span>min-size:&nbsp;</span><span class="constant numeric css"><span>1024</span><span class="keyword other unit css"><span>px</span></span></span><span>)</span><span>&nbsp;</span></span><span class="punctuation section property-list begin css"><span>{</span></span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span>&nbsp;&nbsp;</span><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-app</span></span><span>&nbsp;</span><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-grid</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-grid-columns</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>6</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-grid-margin</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>16</span><span class="keyword other unit css"><span>px</span></span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span class="punctuation section property-list end css"><span>}</span></span></span></div>
</code></pre>
<p>Note that all of this configuration is happening on the CSS side of things, without the need for predefined CSS classes to tweak the grid behavior. This means that the approach of generating a number of CSS classes that <em>might</em> be useful and shipping them on to developers is no longer necessary. Users also get more flexibility in what values to set things to; anything’s available, not just the ones you remembered to generate CSS classes for.</p>
<h2 id="another-example-aspect-ratios">Another example: aspect ratios</h2>
<p>Let’s imagine you’re building a site (say, a personal blog where you talk about web stuff) and looking to set a <code>max-width</code> on any image, to ensure it doesn’t grow beyond the size of its container:</p>
<pre><code class="lang-css"><div class="line"><span class="source css"><span class="meta selector css"><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-content</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>max-width</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>600</span><span class="keyword other unit css"><span>px</span></span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div>
</code></pre>
<p>If you want to avoid content shifting down as your image loads, you need to reserve enough space on your page for it. That’s done in your HTML, perhaps as part of your build pipeline:</p>
<pre><code class="lang-html"><div class="line"><span class="text html basic"><span class="meta tag inline any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag inline any html"><span>img</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>src</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>kitten.jpg</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>height</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>1024</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>width</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>768</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>alt</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>A&nbsp;cute&nbsp;kitten</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div>
</code></pre>
<p>However, doing this with a <code>max-width</code> doesn’t work very well. The browser doesn’t take into account the image’s aspect ratio when resizing, and will apply the maximum width of 600px while maintaining a height of 768px, resulting in a sadly deformed kitten.</p>
<figure>
  <div class="aspect-ratio-image post-image"
       style="width: 610px; --aspect-w: 610; --aspect-h: 780;">
    <img src="deformed-kitten.jpg" alt="A deformed kitten. Original photo by latch.r.">
  </div>
  <figcaption>A deformed kitten. Original photo by <a href="https://www.flickr.com/photos/lachlanrogers/">latch.r</a>.</figcaption>
</figure>





<p>So how do you preserve the aspect ratio? There’s a very popular CSS-only trick for maintaining the aspect ratio of a block (<a href="https://alistapart.com/article/creating-intrinsic-ratios-for-video">original article here</a>), which makes use of some quirks in <code>padding</code>. Here’s how you would implement a 16:9 aspect ratio:</p>
<pre><code class="lang-css"><div class="line"><span class="source css"><span class="meta selector css"><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>aspect-ratio-16-9</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>position</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant property-value css"><span>relative</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span>&nbsp;</span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>aspect-ratio-16-9</span></span><span class="entity other attribute-name pseudo-element css"><span class="punctuation definition entity css"><span>::</span></span><span>before</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>display</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant property-value css"><span>block</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>padding-top</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>56.25</span><span class="keyword other unit css"><span>%</span></span></span><span class="punctuation terminator rule css"><span>;</span></span></span><span>&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;9&nbsp;/&nbsp;16&nbsp;*&nbsp;100%&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>content</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="string quoted double css"><span class="punctuation definition string begin css"><span>&quot;</span></span><span class="punctuation definition string end css"><span>&quot;</span></span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span>&nbsp;</span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>aspect-ratio-16-9-content</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>position</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant property-value css"><span>absolute</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>top</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>0</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>right</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>0</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>bottom</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>0</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>left</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>0</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div>
</code></pre>
<p>You’d then apply it to your HTML like this:</p>
<pre><code class="lang-html"><div class="line"><span class="text html basic"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag block any html"><span>div</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>class</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>aspect-ratio-16-9</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html basic"><span>&nbsp;&nbsp;</span><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag block any html"><span>div</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>class</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>aspect-ratio-16-9-content</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html basic"><span>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;box&nbsp;will&nbsp;have&nbsp;a&nbsp;16:9&nbsp;aspect&nbsp;ratio.</span></span></div><div class="line"><span class="text html basic"><span>&nbsp;&nbsp;</span><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;/</span></span><span class="entity name tag block any html"><span>div</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html basic"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;/</span></span><span class="entity name tag block any html"><span>div</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div>
</code></pre>
<p>This works great if you’ve got a few aspect ratios in your site (say, if you&#39;re building an image grid), but quickly becomes unmanageable if your images can have arbitrary aspect ratios.</p>
<p>So let’s make it a fixed aspect ratio image wrapper, with a custom property-based API!</p>
<pre><code class="lang-css"><div class="line"><span class="source css"><span class="meta selector css"><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-image-wrapper</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;my-image-wrapper&nbsp;custom&nbsp;properties&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;The&nbsp;width&nbsp;portion&nbsp;of&nbsp;the&nbsp;aspect&nbsp;ratio,&nbsp;e.g.&nbsp;16&nbsp;in&nbsp;16:9.&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-image-wrapper-w</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>1</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;The&nbsp;height&nbsp;portion&nbsp;of&nbsp;the&nbsp;aspect&nbsp;ratio,&nbsp;e.g.&nbsp;9&nbsp;in&nbsp;16:9.&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-image-wrapper-h</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>1</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;</span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>position</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant property-value css"><span>relative</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span>&nbsp;</span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-image-wrapper</span></span><span class="entity other attribute-name pseudo-element css"><span class="punctuation definition entity css"><span>::</span></span><span>before</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>display</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant property-value css"><span>block</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>padding-top</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support function misc css"><span>calc</span></span><span>(</span><span class="support function misc css"><span>var</span></span><span>(</span><span class="variable argument css"><span>-</span><span>-</span><span>m</span><span>y</span><span>-</span><span>i</span><span>m</span><span>a</span><span>g</span><span>e</span><span>-</span><span>w</span><span>r</span><span>a</span><span>p</span><span>p</span><span>e</span><span>r</span><span>-</span><span>h</span><span>,</span><span>&nbsp;</span><span>1</span></span><span>)</span><span>&nbsp;/</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="meta property-value css"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function misc css"><span>var</span></span><span>(</span><span class="variable argument css"><span>-</span><span>-</span><span>m</span><span>y</span><span>-</span><span>i</span><span>m</span><span>a</span><span>g</span><span>e</span><span>-</span><span>w</span><span>r</span><span>a</span><span>p</span><span>p</span><span>e</span><span>r</span><span>-</span><span>w</span><span>,</span><span>&nbsp;</span><span>1</span></span><span>)</span><span>&nbsp;*&nbsp;</span><span class="constant numeric css"><span>100</span><span class="keyword other unit css"><span>%</span></span></span><span>)</span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>content</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="string quoted double css"><span class="punctuation definition string begin css"><span>&quot;</span></span><span class="punctuation definition string end css"><span>&quot;</span></span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span>&nbsp;</span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>my-image-wrapper</span></span><span>&nbsp;&gt;&nbsp;</span><span class="entity name tag css"><span>img</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>position</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant property-value css"><span>absolute</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>top</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>0</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>right</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>0</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>bottom</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>0</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>left</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>0</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>height</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>100</span><span class="keyword other unit css"><span>%</span></span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>width</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>100</span><span class="keyword other unit css"><span>%</span></span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div>
</code></pre>
<p><code>--my-image-wrapper-w</code> and <code>--my-image-wrapper-h</code> are now your modular CSS API, and you can use your code for any image:</p>
<pre><code class="lang-html"><div class="line"><span class="text html basic"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag block any html"><span>div</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>class</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>my-content&nbsp;my-image-wrapper</span><span class="punctuation definition string end html"><span>&quot;</span></span></span></span></span></div><div class="line"><span class="text html basic"><span class="meta tag block any html"><span>&nbsp;</span><span class="entity other attribute-name html"><span>style</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>width:768px;&nbsp;--my-image-wrapper-w:4;&nbsp;--my-image-wrapper-h:3;</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html basic"><span>&nbsp;</span></span></div><div class="line"><span class="text html basic"><span>&nbsp;&nbsp;</span><span class="meta tag inline any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag inline any html"><span>img</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>src</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>kitten.jpg</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>alt</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>A&nbsp;cute&nbsp;kitten</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html basic"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;/</span></span><span class="entity name tag block any html"><span>div</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div>
</code></pre>
<p>And now the kitten is no longer deformed!</p>
<figure>
  <div class="aspect-ratio-image post-image"
       style="width: 614px; --aspect-w: 614; --aspect-h: 464;">
    <img src="healthy-kitten.jpg" alt="A healthy, undeformed kitten. Original photo by latch.r.">
  </div>
  <figcaption>A healthy, undeformed kitten. Original photo by <a href="https://www.flickr.com/photos/lachlanrogers/">latch.r</a>.</figcaption>
</figure>





<p>You could even make it part of your build pipeline and have it automatically applied to every image. Pretty neat!</p>
<blockquote>
<p><strong>Note:</strong> I turned this into an NPM package! Check out <a href="https://www.npmjs.com/package/css-aspect-ratio">css-aspect-ratio</a>.</p>
</blockquote>
<h2 id="web-components">Web components</h2>
<p><a href="https://www.webcomponents.org/">Web components</a> are an exciting new set of web technologies that allow you to develop true encapsulated and reusable components.</p>
<pre><code class="lang-html"><div class="line"><span class="text html basic"><span class="meta tag any html"><span class="punctuation definition tag html"><span>&lt;</span></span><span class="entity name tag html"><span>my-component</span></span><span class="punctuation definition tag html"><span>&gt;</span><span class="meta scope between-tag-pair html"><span>&lt;</span></span><span>/</span></span><span class="entity name tag html"><span>my-component</span></span><span class="punctuation definition tag html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html basic"><span>That&#39;s&nbsp;it.</span></span></div>
</code></pre>
<p>Whether or not your components are using <a href="https://www.w3.org/TR/shadow-dom/">Shadow DOM</a>, it’s useful to specify a set of properties that you support for customization. This allows you to clearly specify what’s configurable, without making developers dig into your component’s implementation, looking for which CSS selectors and properties to override.</p>
<p>Theming is the canonical example. If you don’t make the work up front of preparing custom properties that developers can use, they’re going to have to reverse engineer your component:</p>
<pre><code class="lang-css"><div class="line"><span class="source css"><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;Our&nbsp;tweaks&nbsp;to&nbsp;the&nbsp;my-component&nbsp;dependency&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span class="entity name tag custom css"><span>my-component</span></span><span>&nbsp;&gt;&nbsp;</span><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>top-thing</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>background</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant color w3c-standard-color-name css"><span>red</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span>&nbsp;</span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span class="entity name tag custom css"><span>my-component</span></span><span>&nbsp;&gt;&nbsp;</span><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>big-text</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>color</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant color w3c-standard-color-name css"><span>red</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span>&nbsp;</span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span class="entity name tag custom css"><span>my-component</span></span><span>&nbsp;&gt;&nbsp;</span><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>big-text</span></span><span class="entity other attribute-name pseudo-class css"><span class="punctuation definition entity css"><span>:</span></span><span>hover</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>color</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant color w3c-standard-color-name css"><span>red</span></span><span>&nbsp;</span><span class="keyword other important css"><span>!important</span></span><span class="punctuation terminator rule css"><span>;</span></span></span><span>&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;Fixes&nbsp;bug&nbsp;#42.&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div><div class="line"><span class="source css"><span>&nbsp;</span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span class="entity name tag custom css"><span>my-component</span></span><span>&nbsp;&gt;&nbsp;</span><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>content</span></span><span>&nbsp;&gt;&nbsp;</span><span class="entity other attribute-name class css"><span class="punctuation definition entity css"><span>.</span></span><span>column</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span class="support type property-name css"><span>width</span></span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support function misc css"><span>calc</span></span><span>(</span><span class="constant numeric css"><span>50</span><span class="keyword other unit css"><span>%</span></span></span><span>&nbsp;-&nbsp;</span><span class="constant numeric css"><span>16</span><span class="keyword other unit css"><span>px</span></span></span><span>)</span><span class="punctuation terminator rule css"><span>;</span></span></span><span>&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;2&nbsp;columns&nbsp;instead&nbsp;of&nbsp;3&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div>
</code></pre>
<p>Be kind to your users (and yourself, months down the line). If there’s an aspect of your component that should be configurable, package it up nicely in a custom property:</p>
<pre><code class="lang-css"><div class="line"><span class="source css"><span class="meta selector css"><span class="entity name tag custom css"><span>my-component</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;my-component&nbsp;custom&nbsp;properties&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;Theme&nbsp;color.&nbsp;Changing&nbsp;this&nbsp;will&nbsp;update&nbsp;colors</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="comment block css"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throughout&nbsp;the&nbsp;entire&nbsp;component.&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-component-theme-color</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant color w3c-standard-color-name css"><span>blue</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;Accent&nbsp;color.&nbsp;Changing&nbsp;this&nbsp;will&nbsp;update&nbsp;colors</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="comment block css"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throughout&nbsp;the&nbsp;entire&nbsp;component.&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-component-accent-color</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant color w3c-standard-color-name css"><span>red</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;How&nbsp;many&nbsp;columns&nbsp;to&nbsp;split&nbsp;the&nbsp;content&nbsp;into.&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-component-columns</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>3</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div>
</code></pre>
<p>This way, your users no longer have to worry about a future update breaking their tweaks. And now their code can look like this instead:</p>
<pre><code class="lang-css"><div class="line"><span class="source css"><span class="comment block css"><span class="punctuation definition comment css"><span>/*</span></span><span>&nbsp;Our&nbsp;tweaks&nbsp;to&nbsp;the&nbsp;my-component&nbsp;dependency&nbsp;</span><span class="punctuation definition comment css"><span>*/</span></span></span></span></div><div class="line"><span class="source css"><span class="meta selector css"><span class="entity name tag custom css"><span>my-component</span></span><span>&nbsp;</span></span><span class="meta property-list css"><span class="punctuation section property-list begin css"><span>{</span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-component-theme-color</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="support constant color w3c-standard-color-name css"><span>red</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span>&nbsp;&nbsp;</span><span class="meta property-name css"><span>--my-component-columns</span></span><span class="meta property-value css"><span class="punctuation separator key-value css"><span>:</span></span><span>&nbsp;</span><span class="constant numeric css"><span>2</span></span><span class="punctuation terminator rule css"><span>;</span></span></span></span></span></div><div class="line"><span class="source css"><span class="meta property-list css"><span class="punctuation section property-list end css"><span>}</span></span></span></span></div>
</code></pre>
<p>If you’re using Shadow DOM in your components, it becomes even more important to set up custom properties, as it’s harder to apply styles across the shadow boundary. Be sure to read Eric Bidelman’s excellent <a href="https://developers.google.com/web/fundamentals/getting-started/primers/shadowdom">Shadow DOM v1 primer</a> for more details on this and other concerns.</p>
<h2 id="your-job-my-job">Your job, my job</h2>
<p>Separating out concerns between a module (or web component) and its client code is important, because it allows developers that are using your code to know what’s safe to change, and what they are modifying at their own risk. Even if the developer using your code is yourself, several months down the line, it could be that things that are obvious now won’t even register then.</p>
<p>Establishing a set of well-defined custom properties makes your modules and components more reusable, makes client code less brittle, and even serves as built-in documentation for what your module or component can do.</p>
<p><strong>Edit (2017-03-02):</strong> Added original source for CSS aspect ratio trick.</p>


  </div>

  Tags:&nbsp;
  <div class="post-tags">
    
      css
    
      custom-properties
    
      abstraction
    
  </div>
</article>

    </main>

    <footer class="footer">
  <div class="footer-contents">
    <img class="footer-avatar" src="/assets/images/avatar.jpg" alt="Author's avatar">

    <div class="footer-text">
      <h2 class="footer-heading">Hey there!</h2>
      <p class="footer-description">I’m Sérgio, and I work at Web Developer Relations at Google, helping developers make the web a better place.</p>
    </div>

    <div class="footer-icons">
      <div class="footer-icons-row">
        <a href="https://twitter.com/sergiomdgomes" class="footer-bubble footer-twitter" aria-label="Author's Twitter page"></a>
        <a href="mailto:mail@sgom.es" class="footer-bubble footer-email" aria-label="Author's email address"></a>
      </div>
      <div class="footer-icons-row">
        <a href="/feed.xml" class="footer-bubble footer-feed" aria-label="Atom feed for this site"></a>
        <a href="https://github.com/sgomes" class="footer-bubble footer-github" aria-label="Author's GitHub profile'"></a>
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <div class="footer-copyright">Articles under
    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons 4.0 Attribution</a>,
    code under <a rel="license" href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0</a>
    (unless otherwise indicated).</div>
  </div>
</footer>


    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js').catch(function(err) {
          console.log('Service worker registration failed: ', err);
        });
      }
    </script>

  </body>

</html>
